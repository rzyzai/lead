<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lead</title>
    <link href="css/mdui.min.css" rel="stylesheet"/>
    <link href="css/googlefont.css"
          rel="stylesheet"/>
    <link href="css/lead.css" rel="stylesheet"/>
    <script src="js/mdui.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/lead.js"></script>
    <script type="text/javascript">
        window.onload = init_marked;
    </script>
</head>
<body>
<div class="mdui-toolbar mdui-color-blue-700 mdui-shadow-5">
    <div class="mdui-drawer mdui-drawer-close" id="left-drawer">
        <a class="mdui-btn mdui-btn-icon" href="#" mdui-drawer-close>
            <i class="mdui-icon material-icons mdui-text-color-black-icon">arrow_back</i>
        </a>
        <ul class="mdui-list">
            <a href="/" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">home</i>
                <div class="mdui-list-item-content mdui-text-color-black-text">主页</div>
            </a>
            <a href="memorize.html" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">import_contacts</i>
                <div class="mdui-list-item-content mdui-text-color-black-text">记忆</div>
            </a>
            <a href="quiz.html" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">spellcheck</i>
                <div class="mdui-list-item-content mdui-text-color-black-text">检测</div>
            </a>
            <a class="mdui-list-item mdui-ripple mdui-list-item-active">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">bookmark</i>
                <div class="mdui-list-item-content">收藏</div>
            </a>
            <a href="passed.html" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">list</i>
                <div class="mdui-list-item-content mdui-text-color-black-text">已记住</div>
            </a>
            <a href="about.html" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">info_outline</i>
                <div class="mdui-list-item-content mdui-text-color-black-text">关于</div>
            </a>
        </ul>
        <div class="copyright">
            <p>© 2023 <a href="https://rzyzai.tech" target="_blank">日照一中AI社</a></p>
            <p>Powered by
                <a href="https://github.com/rzyzai/lead" target="_blank">Lead</a>
                & <a href="https://mdui.org" target="_blank">MDUI</a>
            </p>
        </div>
    </div>
    <a class="mdui-btn mdui-btn-icon" href="#" mdui-drawer="{target: '#left-drawer', overlay: true}">
        <i class="mdui-icon material-icons mdui-text-color-white-icon">menu</i>
    </a>
    <span class="mdui-typo-title mdui-text-color-white" onclick="window.location='/'">Lead</span>
    <div class="mdui-toolbar-spacer"></div>
    <form class="search-bar" id="search-form">
        <button class="submit mdui-btn mdui-btn-icon mdui-text-color-white-icon" type="submit">
            <i class="mdui-icon material-icons mdui-text-color-white-icon search-icon">search</i>
        </button>
        <input placeholder="搜索" type="text" id="search-value">
    </form>
    <script>
        var search = document.getElementById("search-form");
        search.onsubmit = function (event) {
            var search_word = document.getElementById("search-value").value;
            $.ajax({
                type: 'GET',
                url: "api/search",
                data:
                    {
                        word: search_word
                    },
                success: function (result) {
                    if (result["status"] == "success")
                    {
                        window.sessionStorage.setItem("search_result", JSON.stringify(result));
                        window.location.href = "search.html";
                    }
                    else
                        mdui.snackbar(result["message"]);
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    console.log(XMLHttpRequest.status);
                    console.log(XMLHttpRequest.readyState);
                    console.log(textStatus);
                }
            });
            event.preventDefault();
        }
    </script>
</div>
<div class="mdui-container-fluid">
    <div class="explanation" id="marked-words">
    </div>
    <div class="item mdui-text-center">
        <button class="mdui-btn mdui-btn-raised mdui-color-red mdui-text-color-white-text"
                onclick="mdui.confirm('确认清除所有收藏吗？清除的收藏将无法恢复。', '清除收藏', clear_marks, function(e){e.close();}, {confirmText: '确认', cancelText: '取消'})()">清除所有收藏</button>
    </div>
</div>
</body>
</html>