<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Lead</title>
    <link href="https://unpkg.com/mdui@1.0.2/dist/css/mdui.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@100;200;300;400;500;700;900&display=swap"
          rel="stylesheet"/>
    <link href="lead.css" rel="stylesheet"/>
    <script src="https://unpkg.com/mdui@1.0.2/dist/js/mdui.min.js"></script>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="lead.js"></script>
</head>
<body>
<div class="mdui-toolbar mdui-color-blue-700">
    <div class="mdui-drawer mdui-drawer-close" id="left-drawer">
        <a class="mdui-btn mdui-btn-icon" href="#" mdui-drawer-close>
            <i class="mdui-icon material-icons mdui-text-color-black-icon">arrow_back</i>
        </a>
        <ul class="mdui-list">
            <a class="mdui-list-item mdui-ripple mdui-list-item-active">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">home</i>
                <div class="mdui-list-item-content">主页</div>
            </a>
            <a href="account.html" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">account_circle</i>
                <div class="mdui-list-item-content mdui-text-color-black-text">个人中心</div>
            </a>
            <a href="about.html" class="mdui-list-item mdui-ripple">
                <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-black-icon">info_outline</i>
                <div class="mdui-list-item-content mdui-text-color-black-text">关于</div>
            </a>
        </ul>
        <div class="copyright">
            <p>© 2023 caozhanhao</p>
            <p>Powered by
                <a href="https://github.com/caozhanhao/lead" target="_blank">Lead</a>
                & <a href="https://mdui.org" target="_blank">MDUI</a>
            </p>
        </div>
    </div>
    <a class="mdui-btn mdui-btn-icon" href="#" mdui-drawer="{target: '#left-drawer', overlay: true}">
        <i class="mdui-icon material-icons mdui-text-color-white-icon">menu</i>
    </a>
    <span class="mdui-typo-title mdui-text-color-white">Lead</span>
    <div class="mdui-toolbar-spacer"></div>
    <form class="search-bar" id="search-form">
        <button class="submit mdui-btn mdui-btn-icon mdui-text-color-white-icon" type="submit">
            <i class="mdui-icon material-icons mdui-text-color-white-icon search-icon">search</i>
        </button>
        <input placeholder="搜索" type="text" id="search-value">
    </form>
    <div class="mdui-dialog" id="search-result-dialog">
        <div class="mdui-dialog-title" id="search-message"></div>
        <div class="mdui-dialog-content" id="search-content"></div>
        <div class="mdui-dialog-actions">
            <button class="mdui-btn mdui-ripple" mdui-dialog-close>关闭</button>
        </div>
    </div>
    <script>
        var search = document.getElementById("search-form");
        search.onsubmit = function (event) {
            var search_word = document.getElementById("search-value").value;
            $.ajax({
                type: 'GET',
                url: "api/search",
                data:
                    {
                        word: search_word,
                        user_id: userid,
                        password: passwd
                    },
                success: function (result) {
                    if (result["status"] == "success") {
                        $("#search-message").html(result["message"]);
                        var content = "";
                        for (var explanation in result["explanations"])
                            content += result["explanations"][explanation];
                        $("#search-content").html(content);
                        search_dialog_inst = new mdui.Dialog("#search-result-dialog");
                        search_dialog_inst.open();
                    } else
                        mdui.snackbar(result["message"]);
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    console.log(XMLHttpRequest.status);
                    console.log(XMLHttpRequest.readyState);
                    console.log(textStatus);
                }
            });
            event.preventDefault();
        }
    </script>
    <div class="mdui-toolbar-spacer"></div>
    <!--
    <div class="mdui-dialog dialog-interface" id="login-dialog">
        <button class="mdui-btn mdui-btn-icon" mdui-dialog-close>
            <i class="mdui-icon material-icons mdui-text-color-white-icon">close</i></button>
        <div class="mdui-dialog-title mdui-color-blue-700 mdui-text-color-white-text">登录</div>
        <form id="login-form">
            <div class="mdui-textfield mdui-textfield-floating-label">
                <label class="mdui-textfield-label">用户名</label>
                <input class="mdui-textfield-input" id="userid" required/>
                <div class="mdui-textfield-error">账号不能为空</div>
            </div>
            <div class="mdui-textfield mdui-textfield-floating-label">
                <label class="mdui-textfield-label">密码</label>
                <input class="mdui-textfield-input" id="passwd" required type="password"/>
                <div class="mdui-textfield-error">密码不能为空</div>
            </div>
            <p style="font-size: medium">首次登录将注册账号</p>
            <div class="actions">
                <div class="divider"></div>
                <button class="mdui-btn mdui-btn-raised mdui-color-blue-700 mdui-text-color-white-text" type="submit">登录</button>
            </div>
        </form>
    </div>
    <a class="mdui-btn mdui-btn-icon mdui-ripple" href="#" mdui-tooltip="{content: '账户'}">
        <i class="mdui-icon material-icons mdui-text-color-white-icon" mdui-dialog="{target: '#login-dialog', history: false, modal: true}">account_circle</i>
    </a>-->
</div>
<div class="mdui-divider mdui-shadow-1"></div>
<div class="mdui-container-fluid">
    <div class="item mdui-text-center">
        <p>
            <span id="question">question</span>
        </p>
        <ul class="mdui-list">
            <li class="mdui-list-item mdui-ripple" onclick="quiz_select('A')"><span id="A">A</span></li>
            <div class="mdui-divider"></div>
            <li class="mdui-list-item mdui-ripple" onclick="quiz_select('B')"><span id="B">B</span></li>
            <div class="mdui-divider"></div>
            <li class="mdui-list-item mdui-ripple" onclick="quiz_select('C')"><span id="C">C</span></li>
            <div class="mdui-divider"></div>
            <li class="mdui-list-item mdui-ripple" onclick="quiz_select('D')"><span id="D">D</span></li>
        </ul>
        <button class="mdui-btn mdui-btn-raised mdui-color-blue-700 mdui-text-color-white-text" onclick="prev_quiz()">上一个</button>
        <button class="mdui-btn mdui-btn-raised mdui-color-blue-700 mdui-text-color-white-text" onclick="pass()">已记住</button>
        <button class="mdui-btn mdui-btn-raised mdui-color-blue-700 mdui-text-color-white-text" onclick="quiz_prompt()">查看解析</button>
    </div>
    <div class="explanation" id="explanation">
    </div>
</div>
</body>
</html>